<script>
    const form = document.getElementById("login-form");
    const email = document.getElementById("email");
    const passwordInput = document.getElementById("password");
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    const passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{6,}$/;

    // Validate email field as user types
    email.addEventListener("input", () => {
        let emailError = "";

        if (email.value.trim() === "") {
            emailError = "<strong>Email is required.</strong>";
        } else if (!emailRegex.test(email.value)) {
            emailError = "<strong>Invalid email format.</strong>";
        }

        document.getElementById("email-error").innerHTML = emailError;
        email.classList.toggle("is-invalid", emailError !== "");
    });

    // Validate password field as user types
    passwordInput.addEventListener("input", () => {
        let passwordError = "";

        if (passwordInput.value.trim() === "") {
            passwordError = "<strong>Password is required.</strong>";
        } else if (!passwordRegex.test(passwordInput.value.trim())) {
            passwordError = "<strong>Password must be at least 6 characters long and contain at least one lowercase letter, one uppercase letter, and one number.</strong>";
        }

        document.getElementById("password-error").innerHTML = passwordError;
        passwordInput.classList.toggle("is-invalid", passwordError !== "");
    });

    // Validate form on submit
    form.addEventListener("submit", (event) => {
        let isValid = true;
        let emailError = "";
        let passwordError = "";

        if (email.value.trim() === "") {
            emailError = "<strong>Email is required.</strong>";
            isValid = false;
        } else if (!emailRegex.test(email.value)) {
            emailError = "<strong>Invalid email format.</strong>";
            isValid = false;
        }

        if (passwordInput.value.trim() === "") {
            passwordError = "<strong>Password is required.</strong>";
            isValid = false;
        } else if (!passwordRegex.test(passwordInput.value.trim())) {
            passwordError = "<strong>Password must be at least 6 characters long and contain at least one lowercase letter, one uppercase letter, and one number.</strong>";
            isValid = false;
        }

        if (!isValid) {
            event.preventDefault();
            document.getElementById("email-error").innerHTML = emailError;
            document.getElementById("password-error").innerHTML = passwordError;
            email.classList.toggle("is-invalid", emailError !== "");
            passwordInput.classList.toggle("is-invalid", passwordError !== "");
        }
    });

</script>


<!-- <script>
    function validateForm(event) {
        // Get the input fields and error labels
        const email = document.getElementById("email");
        const password = document.getElementById("password");
        const emailErrorLabel = document.getElementById("email-error-label");
        const passwordErrorLabel = document.getElementById("password-error-label");

        // Define regex for email and password validation
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        const passwordRegex = /^(?=.*[a-zA-Z])(?=.*\d).{6,}$/;

        // Validate email
        if (!email.value.match(emailRegex)) {
            emailErrorLabel.innerHTML = "Invalid email address";
            emailErrorLabel.style.color = "red";
            event.preventDefault(); // prevent default form submission
            return false;
        } else {
            emailErrorLabel.innerHTML = "";
        }

        // Validate password
        if (!password.value.match(passwordRegex)) {
            passwordErrorLabel.innerHTML = "Password must be at least 6 characters long, contain at least one letter and one number";
            passwordErrorLabel.style.color = "red";
            event.preventDefault(); // prevent default form submission
            return false;
        } else {
            passwordErrorLabel.innerHTML = "";
        }
        
        return true;
    }

    const loginForm = document.getElementById("login-form");
    loginForm.addEventListener("submit", validateForm);
</script> -->